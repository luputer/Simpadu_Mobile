{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":26,"index":96}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"]}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":97},"end":{"line":3,"column":40,"index":137}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-async-storage/async-storage\"));\n  var _axios = _interopRequireDefault(require(_dependencyMap[3], \"axios\"));\n  var _reactNative = require(_dependencyMap[4], \"react-native\");\n  // Gunakan IP address yang sesuai dengan environment\n  var BASE_URL = _reactNative.Platform.select({\n    ios: 'http://localhost:4000',\n    // untuk iOS simulator\n    android: 'http://10.0.2.2:4000',\n    // untuk Android emulator\n    default: 'http://localhost:4000' // untuk web\n  });\n  var axiosInstance = _axios.default.create({\n    baseURL: BASE_URL,\n    timeout: 10000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Add request interceptor\n  axiosInstance.interceptors.request.use(/*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2.default)(function* (config) {\n      // Skip token for login request\n      if (config.url === '/api/auth/login') {\n        return config;\n      }\n\n      // Get token from storage if exists\n      var token = yield _asyncStorage.default.getItem('userToken');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n        console.log(\"Request dengan token:\", config.url);\n      }\n      return config;\n    });\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), error => {\n    return Promise.reject(error);\n  });\n\n  // Add response interceptor\n  axiosInstance.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      // Handle unauthorized access\n      // You might want to redirect to login or refresh token\n    }\n    return Promise.reject(error);\n  });\n  var _default = exports.default = axiosInstance;\n});","lineCount":59,"map":[[8,2,1,0],[8,6,1,0,"_asyncStorage"],[8,19,1,0],[8,22,1,0,"_interopRequireDefault"],[8,44,1,0],[8,45,1,0,"require"],[8,52,1,0],[8,53,1,0,"_dependencyMap"],[8,67,1,0],[9,2,2,0],[9,6,2,0,"_axios"],[9,12,2,0],[9,15,2,0,"_interopRequireDefault"],[9,37,2,0],[9,38,2,0,"require"],[9,45,2,0],[9,46,2,0,"_dependencyMap"],[9,60,2,0],[10,2,3,0],[10,6,3,0,"_reactNative"],[10,18,3,0],[10,21,3,0,"require"],[10,28,3,0],[10,29,3,0,"_dependencyMap"],[10,43,3,0],[11,2,5,0],[12,2,6,0],[12,6,6,6,"BASE_URL"],[12,14,6,14],[12,17,6,17,"Platform"],[12,38,6,25],[12,39,6,26,"select"],[12,45,6,32],[12,46,6,33],[13,4,7,2,"ios"],[13,7,7,5],[13,9,7,7],[13,32,7,30],[14,4,7,32],[15,4,8,2,"android"],[15,11,8,9],[15,13,8,11],[15,35,8,33],[16,4,8,35],[17,4,9,2,"default"],[17,11,9,9],[17,13,9,11],[17,36,9,34],[17,37,9,35],[18,2,10,0],[18,3,10,1],[18,4,10,2],[19,2,12,0],[19,6,12,6,"axiosInstance"],[19,19,12,19],[19,22,12,22,"axios"],[19,36,12,27],[19,37,12,28,"create"],[19,43,12,34],[19,44,12,35],[20,4,13,2,"baseURL"],[20,11,13,9],[20,13,13,11,"BASE_URL"],[20,21,13,19],[21,4,14,2,"timeout"],[21,11,14,9],[21,13,14,11],[21,18,14,16],[22,4,15,2,"headers"],[22,11,15,9],[22,13,15,11],[23,6,16,4],[23,20,16,18],[23,22,16,20],[24,4,17,2],[25,2,18,0],[25,3,18,1],[25,4,18,2],[27,2,20,0],[28,2,21,0,"axiosInstance"],[28,15,21,13],[28,16,21,14,"interceptors"],[28,28,21,26],[28,29,21,27,"request"],[28,36,21,34],[28,37,21,35,"use"],[28,40,21,38],[29,4,21,38],[29,8,21,38,"_ref"],[29,12,21,38],[29,19,21,38,"_asyncToGenerator2"],[29,37,21,38],[29,38,21,38,"default"],[29,45,21,38],[29,47,22,2],[29,58,22,9,"config"],[29,64,22,15],[29,66,22,20],[30,6,23,4],[31,6,24,4],[31,10,24,8,"config"],[31,16,24,14],[31,17,24,15,"url"],[31,20,24,18],[31,25,24,23],[31,42,24,40],[31,44,24,42],[32,8,25,6],[32,15,25,13,"config"],[32,21,25,19],[33,6,26,4],[35,6,28,4],[36,6,29,4],[36,10,29,10,"token"],[36,15,29,15],[36,24,29,24,"AsyncStorage"],[36,45,29,36],[36,46,29,37,"getItem"],[36,53,29,44],[36,54,29,45],[36,65,29,56],[36,66,29,57],[37,6,30,4],[37,10,30,8,"token"],[37,15,30,13],[37,17,30,15],[38,8,31,6,"config"],[38,14,31,12],[38,15,31,13,"headers"],[38,22,31,20],[38,23,31,21,"Authorization"],[38,36,31,34],[38,39,31,37],[38,49,31,47,"token"],[38,54,31,52],[38,56,31,54],[39,8,32,6,"console"],[39,15,32,13],[39,16,32,14,"log"],[39,19,32,17],[39,20,32,18],[39,43,32,41],[39,45,32,43,"config"],[39,51,32,49],[39,52,32,50,"url"],[39,55,32,53],[39,56,32,54],[40,6,33,4],[41,6,34,4],[41,13,34,11,"config"],[41,19,34,17],[42,4,35,2],[42,5,35,3],[43,4,35,3],[43,21,35,3,"_x"],[43,23,35,3],[44,6,35,3],[44,13,35,3,"_ref"],[44,17,35,3],[44,18,35,3,"apply"],[44,23,35,3],[44,30,35,3,"arguments"],[44,39,35,3],[45,4,35,3],[46,2,35,3],[46,7,36,3,"error"],[46,12,36,8],[46,16,36,13],[47,4,37,4],[47,11,37,11,"Promise"],[47,18,37,18],[47,19,37,19,"reject"],[47,25,37,25],[47,26,37,26,"error"],[47,31,37,31],[47,32,37,32],[48,2,38,2],[48,3,39,0],[48,4,39,1],[50,2,41,0],[51,2,42,0,"axiosInstance"],[51,15,42,13],[51,16,42,14,"interceptors"],[51,28,42,26],[51,29,42,27,"response"],[51,37,42,35],[51,38,42,36,"use"],[51,41,42,39],[51,42,43,3,"response"],[51,50,43,11],[51,54,43,16,"response"],[51,62,43,24],[51,64,44,3,"error"],[51,69,44,8],[51,73,44,13],[52,4,45,4],[52,8,45,8,"error"],[52,13,45,13],[52,14,45,14,"response"],[52,22,45,22],[52,24,45,24,"status"],[52,30,45,30],[52,35,45,35],[52,38,45,38],[52,40,45,40],[53,6,46,6],[54,6,47,6],[55,4,47,6],[56,4,49,4],[56,11,49,11,"Promise"],[56,18,49,18],[56,19,49,19,"reject"],[56,25,49,25],[56,26,49,26,"error"],[56,31,49,31],[56,32,49,32],[57,2,50,2],[57,3,51,0],[57,4,51,1],[58,2,51,2],[58,6,51,2,"_default"],[58,14,51,2],[58,17,51,2,"exports"],[58,24,51,2],[58,25,51,2,"default"],[58,32,51,2],[58,35,53,15,"axiosInstance"],[58,48,53,28],[59,0,53,28],[59,3]],"functionMap":{"names":["<global>","axiosInstance.interceptors.request.use$argument_0","axiosInstance.interceptors.request.use$argument_1","axiosInstance.interceptors.response.use$argument_0","axiosInstance.interceptors.response.use$argument_1"],"mappings":"AAA;ECqB;GDa;EEC;GFE;EGK,sBH;EIC;GJM"}},"type":"js/module"}]}