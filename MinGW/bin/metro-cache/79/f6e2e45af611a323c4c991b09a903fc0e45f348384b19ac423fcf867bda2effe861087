{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":71},"end":{"line":2,"column":26,"index":97}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-async-storage/async-storage\"));\n  var _axios = _interopRequireDefault(require(_dependencyMap[3], \"axios\"));\n  var axiosInstance = _axios.default.create({\n    baseURL: 'http://localhost:4000',\n    timeout: 10000,\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    }\n  });\n\n  // Add request interceptor\n  axiosInstance.interceptors.request.use(/*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2.default)(function* (config) {\n      // Get token from storage if exists\n      var token = yield _asyncStorage.default.getItem('userToken');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n        console.log(\"Request dengan token:\", config.url);\n      }\n      return config;\n    });\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), error => {\n    return Promise.reject(error);\n  });\n\n  // Add response interceptor\n  axiosInstance.interceptors.response.use(response => {\n    // Jika response adalah HTML, throw error\n    if (typeof response.data === 'string' && response.data.includes('<!DOCTYPE html>')) {\n      throw new Error('Invalid API response: Received HTML instead of JSON');\n    }\n    return response;\n  }, error => {\n    console.error('API Error:', error);\n    if (error.response) {\n      // Server responded with error\n      console.error('Error data:', error.response.data);\n      console.error('Error status:', error.response.status);\n    } else if (error.request) {\n      // Request made but no response\n      console.error('No response received:', error.request);\n    } else {\n      // Error in request setup\n      console.error('Error message:', error.message);\n    }\n    return Promise.reject(error);\n  });\n  var _default = exports.default = axiosInstance;\n});","lineCount":60,"map":[[8,2,1,0],[8,6,1,0,"_asyncStorage"],[8,19,1,0],[8,22,1,0,"_interopRequireDefault"],[8,44,1,0],[8,45,1,0,"require"],[8,52,1,0],[8,53,1,0,"_dependencyMap"],[8,67,1,0],[9,2,2,0],[9,6,2,0,"_axios"],[9,12,2,0],[9,15,2,0,"_interopRequireDefault"],[9,37,2,0],[9,38,2,0,"require"],[9,45,2,0],[9,46,2,0,"_dependencyMap"],[9,60,2,0],[10,2,4,0],[10,6,4,6,"axiosInstance"],[10,19,4,19],[10,22,4,22,"axios"],[10,36,4,27],[10,37,4,28,"create"],[10,43,4,34],[10,44,4,35],[11,4,5,2,"baseURL"],[11,11,5,9],[11,13,5,11],[11,36,5,34],[12,4,6,2,"timeout"],[12,11,6,9],[12,13,6,11],[12,18,6,16],[13,4,7,2,"headers"],[13,11,7,9],[13,13,7,11],[14,6,8,4],[14,20,8,18],[14,22,8,20],[14,40,8,38],[15,6,9,4],[15,14,9,12],[15,16,9,14],[16,4,10,2],[17,2,11,0],[17,3,11,1],[17,4,11,2],[19,2,13,0],[20,2,14,0,"axiosInstance"],[20,15,14,13],[20,16,14,14,"interceptors"],[20,28,14,26],[20,29,14,27,"request"],[20,36,14,34],[20,37,14,35,"use"],[20,40,14,38],[21,4,14,38],[21,8,14,38,"_ref"],[21,12,14,38],[21,19,14,38,"_asyncToGenerator2"],[21,37,14,38],[21,38,14,38,"default"],[21,45,14,38],[21,47,15,2],[21,58,15,9,"config"],[21,64,15,15],[21,66,15,20],[22,6,16,4],[23,6,17,4],[23,10,17,10,"token"],[23,15,17,15],[23,24,17,24,"AsyncStorage"],[23,45,17,36],[23,46,17,37,"getItem"],[23,53,17,44],[23,54,17,45],[23,65,17,56],[23,66,17,57],[24,6,18,4],[24,10,18,8,"token"],[24,15,18,13],[24,17,18,15],[25,8,19,6,"config"],[25,14,19,12],[25,15,19,13,"headers"],[25,22,19,20],[25,23,19,21,"Authorization"],[25,36,19,34],[25,39,19,37],[25,49,19,47,"token"],[25,54,19,52],[25,56,19,54],[26,8,20,6,"console"],[26,15,20,13],[26,16,20,14,"log"],[26,19,20,17],[26,20,20,18],[26,43,20,41],[26,45,20,43,"config"],[26,51,20,49],[26,52,20,50,"url"],[26,55,20,53],[26,56,20,54],[27,6,21,4],[28,6,22,4],[28,13,22,11,"config"],[28,19,22,17],[29,4,23,2],[29,5,23,3],[30,4,23,3],[30,21,23,3,"_x"],[30,23,23,3],[31,6,23,3],[31,13,23,3,"_ref"],[31,17,23,3],[31,18,23,3,"apply"],[31,23,23,3],[31,30,23,3,"arguments"],[31,39,23,3],[32,4,23,3],[33,2,23,3],[33,7,24,3,"error"],[33,12,24,8],[33,16,24,13],[34,4,25,4],[34,11,25,11,"Promise"],[34,18,25,18],[34,19,25,19,"reject"],[34,25,25,25],[34,26,25,26,"error"],[34,31,25,31],[34,32,25,32],[35,2,26,2],[35,3,27,0],[35,4,27,1],[37,2,29,0],[38,2,30,0,"axiosInstance"],[38,15,30,13],[38,16,30,14,"interceptors"],[38,28,30,26],[38,29,30,27,"response"],[38,37,30,35],[38,38,30,36,"use"],[38,41,30,39],[38,42,31,3,"response"],[38,50,31,11],[38,54,31,16],[39,4,32,4],[40,4,33,4],[40,8,33,8],[40,15,33,15,"response"],[40,23,33,23],[40,24,33,24,"data"],[40,28,33,28],[40,33,33,33],[40,41,33,41],[40,45,33,45,"response"],[40,53,33,53],[40,54,33,54,"data"],[40,58,33,58],[40,59,33,59,"includes"],[40,67,33,67],[40,68,33,68],[40,85,33,85],[40,86,33,86],[40,88,33,88],[41,6,34,6],[41,12,34,12],[41,16,34,16,"Error"],[41,21,34,21],[41,22,34,22],[41,75,34,75],[41,76,34,76],[42,4,35,4],[43,4,36,4],[43,11,36,11,"response"],[43,19,36,19],[44,2,37,2],[44,3,37,3],[44,5,38,3,"error"],[44,10,38,8],[44,14,38,13],[45,4,39,4,"console"],[45,11,39,11],[45,12,39,12,"error"],[45,17,39,17],[45,18,39,18],[45,30,39,30],[45,32,39,32,"error"],[45,37,39,37],[45,38,39,38],[46,4,40,4],[46,8,40,8,"error"],[46,13,40,13],[46,14,40,14,"response"],[46,22,40,22],[46,24,40,24],[47,6,41,6],[48,6,42,6,"console"],[48,13,42,13],[48,14,42,14,"error"],[48,19,42,19],[48,20,42,20],[48,33,42,33],[48,35,42,35,"error"],[48,40,42,40],[48,41,42,41,"response"],[48,49,42,49],[48,50,42,50,"data"],[48,54,42,54],[48,55,42,55],[49,6,43,6,"console"],[49,13,43,13],[49,14,43,14,"error"],[49,19,43,19],[49,20,43,20],[49,35,43,35],[49,37,43,37,"error"],[49,42,43,42],[49,43,43,43,"response"],[49,51,43,51],[49,52,43,52,"status"],[49,58,43,58],[49,59,43,59],[50,4,44,4],[50,5,44,5],[50,11,44,11],[50,15,44,15,"error"],[50,20,44,20],[50,21,44,21,"request"],[50,28,44,28],[50,30,44,30],[51,6,45,6],[52,6,46,6,"console"],[52,13,46,13],[52,14,46,14,"error"],[52,19,46,19],[52,20,46,20],[52,43,46,43],[52,45,46,45,"error"],[52,50,46,50],[52,51,46,51,"request"],[52,58,46,58],[52,59,46,59],[53,4,47,4],[53,5,47,5],[53,11,47,11],[54,6,48,6],[55,6,49,6,"console"],[55,13,49,13],[55,14,49,14,"error"],[55,19,49,19],[55,20,49,20],[55,36,49,36],[55,38,49,38,"error"],[55,43,49,43],[55,44,49,44,"message"],[55,51,49,51],[55,52,49,52],[56,4,50,4],[57,4,51,4],[57,11,51,11,"Promise"],[57,18,51,18],[57,19,51,19,"reject"],[57,25,51,25],[57,26,51,26,"error"],[57,31,51,31],[57,32,51,32],[58,2,52,2],[58,3,53,0],[58,4,53,1],[59,2,53,2],[59,6,53,2,"_default"],[59,14,53,2],[59,17,53,2,"exports"],[59,24,53,2],[59,25,53,2,"default"],[59,32,53,2],[59,35,55,15,"axiosInstance"],[59,48,55,28],[60,0,55,28],[60,3]],"functionMap":{"names":["<global>","axiosInstance.interceptors.request.use$argument_0","axiosInstance.interceptors.request.use$argument_1","axiosInstance.interceptors.response.use$argument_0","axiosInstance.interceptors.response.use$argument_1"],"mappings":"AAA;ECc;GDQ;EEC;GFE;EGK;GHM;EIC;GJc"}},"type":"js/module"}]}