{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":71},"end":{"line":2,"column":26,"index":97}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[1], \"@react-native-async-storage/async-storage\"));\n  var _axios = _interopRequireDefault(require(_dependencyMap[2], \"axios\"));\n  var _Platform = _interopRequireDefault(require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\"));\n  // Gunakan IP address yang sesuai dengan environment\n  const BASE_URL = _Platform.default.select({\n    ios: 'http://localhost:4000',\n    // untuk iOS simulator\n    android: 'http://10.0.2.2:4000',\n    // untuk Android emulator\n    default: 'http://localhost:4000' // untuk web\n  });\n  const axiosInstance = _axios.default.create({\n    baseURL: BASE_URL,\n    timeout: 10000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Add request interceptor\n  axiosInstance.interceptors.request.use(async config => {\n    // Skip token for login request\n    if (config.url === '/api/auth/login') {\n      return config;\n    }\n\n    // Get token from storage if exists\n    const token = await _asyncStorage.default.getItem('userToken');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n      console.log(\"Request dengan token:\", config.url);\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Add response interceptor\n  axiosInstance.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      // Handle unauthorized access\n      // You might want to redirect to login or refresh token\n    }\n    return Promise.reject(error);\n  });\n  var _default = exports.default = axiosInstance;\n});","lineCount":53,"map":[[7,2,1,0],[7,6,1,0,"_asyncStorage"],[7,19,1,0],[7,22,1,0,"_interopRequireDefault"],[7,44,1,0],[7,45,1,0,"require"],[7,52,1,0],[7,53,1,0,"_dependencyMap"],[7,67,1,0],[8,2,2,0],[8,6,2,0,"_axios"],[8,12,2,0],[8,15,2,0,"_interopRequireDefault"],[8,37,2,0],[8,38,2,0,"require"],[8,45,2,0],[8,46,2,0,"_dependencyMap"],[8,60,2,0],[9,2,2,26],[9,6,2,26,"_Platform"],[9,15,2,26],[9,18,2,26,"_interopRequireDefault"],[9,40,2,26],[9,41,2,26,"require"],[9,48,2,26],[9,49,2,26,"_dependencyMap"],[9,63,2,26],[10,2,5,0],[11,2,6,0],[11,8,6,6,"BASE_URL"],[11,16,6,14],[11,19,6,17,"Platform"],[11,36,6,25],[11,37,6,26,"select"],[11,43,6,32],[11,44,6,33],[12,4,7,2,"ios"],[12,7,7,5],[12,9,7,7],[12,32,7,30],[13,4,7,32],[14,4,8,2,"android"],[14,11,8,9],[14,13,8,11],[14,35,8,33],[15,4,8,35],[16,4,9,2,"default"],[16,11,9,9],[16,13,9,11],[16,36,9,34],[16,37,9,35],[17,2,10,0],[17,3,10,1],[17,4,10,2],[18,2,12,0],[18,8,12,6,"axiosInstance"],[18,21,12,19],[18,24,12,22,"axios"],[18,38,12,27],[18,39,12,28,"create"],[18,45,12,34],[18,46,12,35],[19,4,13,2,"baseURL"],[19,11,13,9],[19,13,13,11,"BASE_URL"],[19,21,13,19],[20,4,14,2,"timeout"],[20,11,14,9],[20,13,14,11],[20,18,14,16],[21,4,15,2,"headers"],[21,11,15,9],[21,13,15,11],[22,6,16,4],[22,20,16,18],[22,22,16,20],[23,4,17,2],[24,2,18,0],[24,3,18,1],[24,4,18,2],[26,2,20,0],[27,2,21,0,"axiosInstance"],[27,15,21,13],[27,16,21,14,"interceptors"],[27,28,21,26],[27,29,21,27,"request"],[27,36,21,34],[27,37,21,35,"use"],[27,40,21,38],[27,41,22,2],[27,47,22,9,"config"],[27,53,22,15],[27,57,22,20],[28,4,23,4],[29,4,24,4],[29,8,24,8,"config"],[29,14,24,14],[29,15,24,15,"url"],[29,18,24,18],[29,23,24,23],[29,40,24,40],[29,42,24,42],[30,6,25,6],[30,13,25,13,"config"],[30,19,25,19],[31,4,26,4],[33,4,28,4],[34,4,29,4],[34,10,29,10,"token"],[34,15,29,15],[34,18,29,18],[34,24,29,24,"AsyncStorage"],[34,45,29,36],[34,46,29,37,"getItem"],[34,53,29,44],[34,54,29,45],[34,65,29,56],[34,66,29,57],[35,4,30,4],[35,8,30,8,"token"],[35,13,30,13],[35,15,30,15],[36,6,31,6,"config"],[36,12,31,12],[36,13,31,13,"headers"],[36,20,31,20],[36,21,31,21,"Authorization"],[36,34,31,34],[36,37,31,37],[36,47,31,47,"token"],[36,52,31,52],[36,54,31,54],[37,6,32,6,"console"],[37,13,32,13],[37,14,32,14,"log"],[37,17,32,17],[37,18,32,18],[37,41,32,41],[37,43,32,43,"config"],[37,49,32,49],[37,50,32,50,"url"],[37,53,32,53],[37,54,32,54],[38,4,33,4],[39,4,34,4],[39,11,34,11,"config"],[39,17,34,17],[40,2,35,2],[40,3,35,3],[40,5,36,3,"error"],[40,10,36,8],[40,14,36,13],[41,4,37,4],[41,11,37,11,"Promise"],[41,18,37,18],[41,19,37,19,"reject"],[41,25,37,25],[41,26,37,26,"error"],[41,31,37,31],[41,32,37,32],[42,2,38,2],[42,3,39,0],[42,4,39,1],[44,2,41,0],[45,2,42,0,"axiosInstance"],[45,15,42,13],[45,16,42,14,"interceptors"],[45,28,42,26],[45,29,42,27,"response"],[45,37,42,35],[45,38,42,36,"use"],[45,41,42,39],[45,42,43,3,"response"],[45,50,43,11],[45,54,43,16,"response"],[45,62,43,24],[45,64,44,3,"error"],[45,69,44,8],[45,73,44,13],[46,4,45,4],[46,8,45,8,"error"],[46,13,45,13],[46,14,45,14,"response"],[46,22,45,22],[46,24,45,24,"status"],[46,30,45,30],[46,35,45,35],[46,38,45,38],[46,40,45,40],[47,6,46,6],[48,6,47,6],[49,4,47,6],[50,4,49,4],[50,11,49,11,"Promise"],[50,18,49,18],[50,19,49,19,"reject"],[50,25,49,25],[50,26,49,26,"error"],[50,31,49,31],[50,32,49,32],[51,2,50,2],[51,3,51,0],[51,4,51,1],[52,2,51,2],[52,6,51,2,"_default"],[52,14,51,2],[52,17,51,2,"exports"],[52,24,51,2],[52,25,51,2,"default"],[52,32,51,2],[52,35,53,15,"axiosInstance"],[52,48,53,28],[53,0,53,28],[53,3]],"functionMap":{"names":["<global>","axiosInstance.interceptors.request.use$argument_0","axiosInstance.interceptors.request.use$argument_1","axiosInstance.interceptors.response.use$argument_0","axiosInstance.interceptors.response.use$argument_1"],"mappings":"AAA;ECqB;GDa;EEC;GFE;EGK,sBH;EIC;GJM"}},"type":"js/module"}]}